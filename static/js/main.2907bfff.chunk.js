(this["webpackJsonpmt-site"]=this["webpackJsonpmt-site"]||[]).push([[0],{277:function(e,t,a){"use strict";a.r(t);var n=a(7),s=a(0),i=a.n(s),r=a(15),c=a.n(r),l=a(88),o=(a(180),a(101)),d=a.n(o),h=a(132),j=a(133),p=a(134),b=a(166),f=a(163),u=a(45),x=a(290),g=a(70),O=a(164),m=a(294),L=a(295),y=a(282),v=a(289),T=a(292),D=a(285),C=a(291),I=a(293),E=a(287),B=a(288),w=a(283),F=a(284),A=a(286),k=a(135),N=a.n(k),S=a(136),_=a.n(S),M="sp500/INIT_DATA_LIST",R="vipmap/CHANGE_CURRENT_CITY",H=["SPX","COM","CND","CNS","ENE","FIN","HLT","IND","MAT","REI","TEC","UTL"],P="Loading..",X=" ".replace(/ /g,"\xa0"),U=[{code:"COM \u7535\u4fe1\u670d\u52a1",en:"Telecom",desc:"\u7535\u4fe1\u670d\u52a1\u548c\u65e0\u7ebf\u901a\u8baf"},{code:"CND \u53ef\u9009\u6d88\u8d39",en:"Consumer Discretionary",desc:"\u6c7d\u8f66\u3001\u670d\u88c5\u3001\u4f11\u95f2\u548c\u5a92\u4f53(\u53ef\u9009\u6d88\u8d39)"},{code:"CNS \u6d88\u8d39\u5fc5\u9700\u54c1",en:"Consumer Staples",desc:"\u65e5\u7528\u4ea7\u54c1\u3001\u98df\u54c1\u548c\u836f\u54c1\u96f6\u552e(\u6d88\u8d39\u5fc5\u9700\u54c1)"},{code:"ENE \u80fd\u6e90",en:"Energy",desc:"\u80fd\u6e90\u8bbe\u65bd\u3001\u51b6\u70bc\u3001\u77f3\u6cb9\u548c\u5929\u7136\u6c14\u7684\u5f00\u91c7"},{code:"FIN \u91d1\u878d",en:"Finance",desc:"\u94f6\u884c\u3001\u91d1\u878d\u670d\u52a1\u548c\u6240\u6709\u4fdd\u9669"},{code:"HLT \u533b\u7597\u4fdd\u5065",en:"Medical & Health",desc:"\u7ecf\u8425\u578b\u533b\u7597\u4fdd\u5065\u670d\u52a1\u3001\u533b\u7597\u4ea7\u54c1\u3001\u836f\u54c1\u548c\u751f\u7269\u6280\u672f"},{code:"IND \u5de5\u4e1a",en:"Industry",desc:"\u8d44\u672c\u8d27\u7269\u3001\u4ea4\u901a\u3001\u5efa\u7b51\u3001\u822a\u7a7a\u548c\u56fd\u9632"},{code:"MAT \u57fa\u7840\u6750\u6599",en:"Materials",desc:"\u5316\u5b66\u54c1\u3001\u91d1\u5c5e\u91c7\u77ff\u3001\u7eb8\u4ea7\u54c1\u548c\u6797\u4ea7\u54c1"},{code:"REI \u5730\u4ea7\u4e1a",en:"Real Estate",desc:"\u623f\u5730\u4ea7\u5f00\u53d1\u3001\u7ba1\u7406\u53ca\u76f8\u5173\u4fe1\u6258"},{code:"TEC \u4fe1\u606f\u6280\u672f",en:"Information technology",desc:"\u786c\u4ef6\u3001\u8f6f\u4ef6\u548c\u901a\u8baf\u8bbe\u5907"},{code:"UTL \u516c\u7528\u4e8b\u4e1a",en:"Utilities",desc:"\u7535\u529b\u8bbe\u5907\u548c\u5929\u7136\u6c14\u8bbe\u5907"},{code:"SPX \u6807\u666e500",en:"S&P 500",desc:"\u6807\u666e500"}],z=function(){return function(e){var t="?t="+Date.parse(new Date)/1e3,a=window.location.href;N.a.get(a+"us/sp500_100.json"+t,{"Cache-Control":"no-cache"}).then((function(t){e(function(e){for(var t,a,n,s,i=[],r=[],c=[],l=[],o=[],d=[],h=JSON.parse(_.a.decode(e.data)),j=[h[0].time.replace(/-/g,"/")," - ",h[h.length-1].time.replace(/-/g,"/")].join(""),p=0;p<h.length;p++){for(var b in h[p].data).01===h[p].data[b].close&&(h[p].data[b].close=0),h[p].data[b].close=Math.ceil(h[p].data[b].close),h[p][b]=h[p].data[b].close;d.push({day:h[p].time,code:"TOTAL",breadth:Math.ceil(h[p].TOTAL)}),i.push(h[p].time)}for(var f in h[0])"data"!==f&&r.push(f);for(var u in h[0].data)l.push(u);for(var x=0;x<H.length;x++)for(var g=0;g<h.length;g++)o.push([x,g,h[g][H[x]]]);for(var O=0;O<["TOTAL"].length;O++)for(var m=0;m<h.length;m++)c.push([O,m,Math.ceil(h[m].TOTAL)]);s=c[c.length-1][2],a=Math.ceil(h[i.length-1].HIGH_TOTAL),n=Math.ceil(h[i.length-1].LOW_TOTAL),t=Math.ceil(h[i.length-1].OPEN_TOTAL);var L=o.map((function(e){return{name:e[0],day:e[1],sales:e[2]}})),y=c.map((function(e){return{name:e[0],day:e[1],sales:e[2]}}));return{type:M,dataList:h,totalList:y,dayList:i,codeList:r,mv20DataList:L,isLoading:!1,lastBreadth:s,lastTime:e.last_time,lineDataList:d,highBreadth:a,lowBreadth:n,openBreadth:t,breadthDateRange:j}}(t.data))})).catch((function(){console.log("error")}))}},W=a(167),Y=a(24),J=function(e){var t={name:{type:"cat",values:["SPX","COM","CND","CNS","ENE","FIN","HLT","IND","MAT","REI","TEC","UTL"]},day:{type:"cat",values:e.days||[]},sales:{nice:!0}};return Object(n.jsxs)(Y.Chart,{scale:t,height:3e3,data:e.data,autoFit:!0,forceFit:!0,children:[Object(n.jsx)(Y.Axis,{name:"name",position:"top",tickLine:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}),Object(n.jsx)(Y.Axis,{name:"day",title:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}),Object(n.jsx)(Y.Legend,{position:"left-top",offsetY:100,visible:!1}),Object(n.jsx)(Y.Tooltip,{shared:!0,showMarkers:!1}),Object(n.jsx)(Y.Polygon,{position:"name*day",color:["sales","#FB5050-#FFFFFF-#009966"],label:["sales",{offset:-2,style:{fill:"#2E2E2E",shadowBlur:50,shadowColor:"rgba(0, 0, 0, .45)"}}]}),Object(n.jsx)(Y.Interaction,{type:"element-active"})]})},G=function(e){var t={name:{type:"cat",values:["TOTAL"]},day:{type:"cat",values:e.days||[]},sales:{nice:!0}};return Object(n.jsxs)(Y.Chart,{scale:t,height:3e3,data:e.data,autoFit:!0,forceFit:!0,children:[Object(n.jsx)(Y.Axis,{name:"name",position:"top",tickLine:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}),Object(n.jsx)(Y.Axis,{name:"day",title:null,visible:!1,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}),Object(n.jsx)(Y.Tooltip,{shared:!0,showMarkers:!1}),Object(n.jsx)(Y.Legend,{position:"right-top",offsetY:100,visible:!1}),Object(n.jsx)(Y.Polygon,{position:"name*day",color:["sales","#FB5050-#FFFFFF-#009966"],label:["sales",{offset:-2,style:{fill:"#2E2E2E",shadowBlur:50,shadowColor:"rgba(0, 0, 0, .45)"}}]}),Object(n.jsx)(Y.Interaction,{type:"element-active"})]})},V=function(e){var t={mainTitle:{fontSize:16,color:"black",textAlign:"center"},subTitle:{fontSize:14,color:"gray",textAlign:"center"}},a={position:["median","max"],top:!1,content:"breadth.app",offsetX:-50,style:{fill:"#C0C0C0",fontSize:16}};return Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{className:"main-title",style:t.mainTitle,children:"S&P 500 \u5bbd\u5ea6\u8d70\u52bf"}),Object(n.jsx)("h5",{className:"sub-title",style:t.subTitle,children:e.date}),Object(n.jsxs)(Y.Chart,{scale:{breadth:{min:0,max:1e3}},padding:[10,20,38,40],autoFit:!0,height:220,data:e.data,children:[Object(n.jsx)(Y.Annotation.Text,Object(W.a)({},a)),Object(n.jsx)(Y.Axis,{name:"breadth",grid:{align:"center",line:null}}),Object(n.jsx)(Y.Axis,{name:"day",label:null}),Object(n.jsx)(Y.Line,{shape:"line",position:"day*breadth",color:""}),Object(n.jsx)(Y.Legend,{visible:!1}),Object(n.jsx)(Y.Slider,{start:.3,end:1,trendCfg:{smooth:!1}}),Object(n.jsx)(Y.Annotation.Line,{start:["min","200"],end:["max","200"],text:{position:"end",content:"\u72e9\u730e\u533a",style:{fill:"#FF4D4F"},offsetX:-20,offsetY:20}}),Object(n.jsx)(Y.Annotation.Line,{start:["min","949"],end:["max","949"],text:{position:"end",content:"\u8d70\u8d27\u533a",style:{fill:"#FF4D4F"},offsetX:-20,offsetY:-5}}),Object(n.jsx)(Y.Point,{position:"day*breadth",shape:["breadth",function(e){return e<201?"triangle":e>949?"triangle-down":"0"}],color:["breadth",function(e){return e<201||e>949?"#FB5050":""}]})]})]})},Z=A.a.Panel,K=function(e){var t=y.a.Header;return Object(n.jsx)(t,{className:"header",children:Object(n.jsx)(v.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],children:Object(n.jsx)(v.a.Item,{children:"Market Breadth"},"1")})})},q=function(e){var t=y.a.Footer;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)(t,{style:{textAlign:"center"},children:[Object(n.jsx)(u.a,{xs:{span:24},sm:{span:0},md:{span:0},lg:{span:0},xl:{span:0},align:"center",children:Object(n.jsx)(T.a,{padding:[0,0,0,0],width:"100%",message:"\u6a2a\u5c4f\u67e5\u770bMarket Breadth\u8272\u5757\u53d8\u5316\u56fe\u3002",type:"info"})}),"Market Breadth \xa92020 Created by ",Object(n.jsx)("a",{href:"https://breadth.app",children:"breadth.app"})]}),Object(n.jsx)(x.a,{children:Object(n.jsx)("div",{style:{height:40,width:30,lineHeight:"40px",borderRadius:6,backgroundColor:"#1088e9",color:"#fff",textAlign:"center",fontSize:15},children:"\u2191"})})]})},Q=function(e){var t="\u4ea4\u6613\u65e5\u5e02\u573a\u6570\u636e\u6bcf1-2\u5c0f\u65f6\u66f4\u65b0\u4e00\u6b21 | \u6570\u636e\u66f4\u65b0\u6700\u540e\u66f4\u65b0\u65f6\u95f4(\u7f8e\u4e1c): "+e.lastTime;return Object(n.jsx)(g.a,{justify:"center",align:"top",children:Object(n.jsx)(u.a,{xs:{span:24},sm:{span:19},md:{span:20},lg:{span:16},xl:{span:16},align:"top",children:Object(n.jsx)(T.a,{message:t,type:"info",banner:!0})})})},$=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(j.a)(this,a),n=t.call(this,e),"object"===typeof window&&n.fetchData(),n}return Object(p.a)(a,[{key:"fetchData",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.initData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=(t.dataList,t.totalList),s=(t.codeList,t.dayList),i=(t.mv20CodeList,t.mv20DataList),r=t.lineDataList,c=t.isLoading,l=t.lastBreadth,o=t.lastTime,d=(t.highBreadth,t.lowBreadth,t.openBreadth),h=t.breadthDateRange;return Object(n.jsxs)(y.a,{children:[Object(n.jsx)(K,{}),Object(n.jsx)(Q,{lastTime:o}),Object(n.jsxs)(g.a,{gutter:[8,8],justify:"center",style:{padding:"12px 0"},children:[Object(n.jsxs)(u.a,{xs:{span:11,offset:1},sm:{span:7,offset:2},md:{span:10,offset:2},lg:{span:7,offset:1},xl:{span:7,offset:1},children:[c?Object(n.jsx)("div",{children:P}):Object(n.jsx)(D.a,{title:"Market Breadth",value:l}),Object(n.jsx)(C.a,{title:" ",children:Object(n.jsx)(C.a.Item,{label:"\u5f00\u76d8",children:Object(n.jsxs)(O.a,{title:"\u5f53\u65e5\u6240\u6709\u5b50\u884c\u4e1a\u5f00\u76d8\u5bbd\u5ea6\u4e4b\u548c",color:"blue",children:[d," ",X,Object(n.jsx)(m.a,{})]},"blue-text")})})]}),Object(n.jsx)(u.a,{xs:{span:7,offset:0},sm:{span:7,offset:0},md:{span:10,offset:1},lg:{span:7,offset:0},xl:{span:7,offset:2},align:"middle",children:Object(n.jsxs)(I.b,{size:25,direction:"vertical",children:[Object(n.jsx)(O.a,{title:"\u4ea4\u6613\u65f6\u95f4\u5ef6\u8fdf1-2\u5c0f\u65f6.",color:"blue",children:Object(n.jsx)(E.a,{type:"primary",onClick:function(){e.props.initData(),B.b.success("\u5df2\u66f4\u65b0")},children:"\u5237\u65b0"})},"blue-text"),Object(n.jsxs)(E.a,{danger:!0,onClick:function(){window.open("https://www.paypal.me/kenteb")},children:[Object(n.jsx)(L.a,{twoToneColor:"#eb2f96"}),"\u652f\u6301\u4e00\u4e0b"]})]})})]}),Object(n.jsx)(g.a,{justify:"center",align:"top",children:Object(n.jsx)(u.a,{xs:{span:20},sm:{span:19},md:{span:20},lg:{span:16},xl:{span:16},align:"top",children:c?Object(n.jsx)("div",{children:P}):Object(n.jsx)(V,{data:r,date:h})})}),Object(n.jsxs)(g.a,{justify:"center",align:"top",children:[Object(n.jsx)(u.a,{xs:{span:0},sm:{span:21},md:{span:20},lg:{span:17},xl:{span:17},align:"top",children:Object(n.jsx)(A.a,{bordered:!1,children:Object(n.jsx)(Z,{header:"\u5404\u4ee3\u7801\u4e2d\u82f1\u6587\u5bf9\u7167",children:Object(n.jsx)(w.b,{grid:{gutter:16,xs:1,sm:2,md:4,lg:4,xl:6,xxl:6},dataSource:U,renderItem:function(e){return Object(n.jsx)(w.b.Item,{children:Object(n.jsx)(F.a,{title:"",children:Object(n.jsx)(O.a,{title:e.desc,children:Object(n.jsx)("span",{children:e.code})})})})}})},"1")})}),Object(n.jsx)(u.a,{xs:{span:0},sm:{span:19},md:{span:18},lg:{span:14},xl:{span:14},children:c?Object(n.jsx)("div",{children:P}):Object(n.jsx)(J,{data:i,days:s})}),Object(n.jsx)(u.a,{xs:{span:0},sm:{span:2},md:{span:2},lg:{span:2},xl:{span:2},offset:1,align:"top",children:c?Object(n.jsx)("div",{children:P}):Object(n.jsx)(G,{data:a,days:s})})]}),Object(n.jsx)(q,{})]})}},{key:"componentDidMount",value:function(){var e=this;this.refreshData=setInterval((function(){e.props.initData()}),6e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshData)}}]),a}(s.Component),ee=Object(l.b)((function(e){return{dataList:e.getIn(["sp500","dataList"]),totalList:e.getIn(["sp500","totalList"]),codeList:e.getIn(["sp500","codeList"]),dayList:e.getIn(["sp500","dayList"]),mv20CodeList:e.getIn(["sp500","mv20CodeList"]),mv20DataList:e.getIn(["sp500","mv20DataList"]),isLoading:e.getIn(["sp500","isLoading"]),lastBreadth:e.getIn(["sp500","lastBreadth"]),highBreadth:e.getIn(["sp500","highBreadth"]),lowBreadth:e.getIn(["sp500","lowBreadth"]),openBreadth:e.getIn(["sp500","openBreadth"]),lastTime:e.getIn(["sp500","lastTime"]),lineDataList:e.getIn(["sp500","lineDataList"]),breadthChartHigh:e.getIn(["sp500","breadthChartHigh"]),breadthDateRange:e.getIn(["sp500","breadthDateRange"])}}),(function(e){return{initData:function(){e(z())}}}))($),te=a(67),ae=a(159),ne=a(160),se=a(76),ie=Object(se.fromJS)({dataList:[],totalLList:[],dayList:[],codeList:[],mv20CodeList:H,mv20DataList:[],chartList:[],breadthDays:100,isLoading:!0,lastBreadth:0,lastTime:P,BREADTH_DATE_RANGE:[]}),re=function(e,t){var a={currentCity:t.currentCity,currentZoom:t.currentZoom};return e.merge(a)},ce=function(e,t){return e.merge({dataList:t.dataList,totalList:t.totalList,dayList:t.dayList,codeList:t.codeList,mv20CodeList:t.mv20CodeList,mv20DataList:t.mv20DataList,isLoading:t.isLoading,lastBreadth:t.lastBreadth,highBreadth:t.highBreadth,lowBreadth:t.lowBreadth,openBreadth:t.openBreadth,lastTime:t.lastTime,lineDataList:t.lineDataList,breadthChartHigh:t.breadthChartHigh,breadthDateRange:t.breadthDateRange})},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return ce(e,t);case R:return re(e,t);default:return e}},oe=Object(ne.combineReducers)({sp500:le}),de=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):te.c)(Object(te.a)(ae.a)),he=Object(te.d)(oe,de),je=Object(n.jsx)(l.a,{store:he,children:Object(n.jsx)(ee,{})});c.a.render(je,document.getElementById("breadth"))}},[[277,1,2]]]);
//# sourceMappingURL=main.2907bfff.chunk.js.map