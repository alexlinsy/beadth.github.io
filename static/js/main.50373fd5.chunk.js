(this["webpackJsonpmt-site"]=this["webpackJsonpmt-site"]||[]).push([[0],{204:function(t,e,a){"use strict";a.r(e);var s=a(5),n=a(0),i=a(9),r=a.n(i),o=a(66),c=(a(138),a(75)),l=a.n(c),d=a(106),p=a(45),h=a(46),u=a(50),j=a(49),f=a(211),b=a(212),O=a(121),m=a(207),L=a(210),v=a(208),g=a(213),x=a(209),y=a(107),T=a.n(y),C=a(108),D=a.n(C),k="sp500/INIT_DATA_LIST",E="vipmap/CHANGE_CURRENT_CITY",I=["SPX","COM","CND","CNS","ENE","FIN","HLT","IND","MAT","REI","TEC","UTL"],w="Loading..",F=function(){return function(t){var e="?t="+Date.parse(new Date)/1e3,a=window.location.href;T.a.get(a+"us/sp500_100.json"+e,{"Cache-Control":"no-cache"}).then((function(e){t(function(t){console.log(t);for(var e,a=[],s=[],n=[],i=[],r=[],o=JSON.parse(D.a.decode(t.data)),c=0;c<o.length;c++){for(var l in o[c].data)o[c][l]=o[c].data[l].close;a.push(o[c].time)}for(var d in o[0])"data"!==d&&s.push(d);for(var p in o[0].data)i.push(p);for(var h=0;h<I.length;h++)for(var u=0;u<o.length;u++)r.push([h,u,o[u][I[h]]]);for(var j=0;j<["TOTAL"].length;j++)for(var f=0;f<o.length;f++)n.push([j,f,o[f].TOTAL]);e=n[n.length-1][2];var b=r.map((function(t){return{name:t[0],day:t[1],sales:t[2]}})),O=n.map((function(t){return{name:t[0],day:t[1],sales:t[2]}}));return{type:k,dataList:o,totalList:O,dayList:a,codeList:s,mv20DataList:b,isLoading:!1,lastBreadth:e,lastTime:t.last_time}}(e.data))})).catch((function(){console.log("error")}))}},_=a(123),N=a(35),B=a(23),S=function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){var s;return Object(p.a)(this,a),(s=e.call(this,t)).props=t,s}return Object(h.a)(a,[{key:"render",value:function(){var t={name:{type:"cat",values:["SPX","COM","CND","CNS","ENE","FIN","HLT","IND","MAT","REI","TEC","UTL"]},day:{type:"cat",values:this.props.days||[]},sales:{nice:!0}};return Object(s.jsx)("div",{children:Object(s.jsxs)(B.Chart,{scale:t,height:3e3,data:this.props.data,autoFit:!0,forceFit:!0,children:[Object(s.jsx)(B.Axis,{name:"name",position:"top",tickLine:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}),Object(s.jsx)(B.Axis,{name:"day",title:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}),Object(s.jsx)(B.Legend,{position:"left-top",offsetY:100}),Object(s.jsx)(B.Tooltip,{shared:!0,showMarkers:!1}),Object(s.jsx)(B.Polygon,{position:"name*day",color:["sales","#FB5050-#FFFFFF-#009966"],label:["sales",{offset:-2,style:{fill:"#2E2E2E",shadowBlur:50,shadowColor:"rgba(0, 0, 0, .45)"}}]}),Object(s.jsx)(B.Interaction,{type:"element-active"})]})})}}]),a}(n.Component),A=function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){var s;return Object(p.a)(this,a),(s=e.call(this,t)).props=t,s}return Object(h.a)(a,[{key:"render",value:function(){var t={name:{type:"cat",values:["TOTAL"]},day:{type:"cat",values:this.props.days||[]},sales:{nice:!0}};return Object(s.jsx)("div",{children:Object(s.jsxs)(B.Chart,{scale:t,height:3e3,data:this.props.data,autoFit:!0,forceFit:!0,children:[Object(s.jsx)(B.Axis,{name:"name",position:"top",tickLine:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}),Object(s.jsx)(B.Axis,{name:"day",title:null,visible:!1,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}),Object(s.jsx)(B.Tooltip,{shared:!0,showMarkers:!1}),Object(s.jsx)(B.Legend,{position:"right-top",offsetY:100}),Object(s.jsx)(B.Polygon,{position:"name*day",color:["sales","#FB5050-#FFFFFF-#009966"],label:["sales",{offset:-2,style:{fill:"#2E2E2E",shadowBlur:50,shadowColor:"rgba(0, 0, 0, .45)"}}]}),Object(s.jsx)(B.Interaction,{type:"element-active"})]})})}}]),a}(n.Component),M=(n.Component,function(t){Object(u.a)(a,t);var e=Object(j.a)(a);function a(t){var s;return Object(p.a)(this,a),s=e.call(this,t),"object"===typeof window&&s.fetchData(),s}return Object(h.a)(a,[{key:"fetchData",value:function(){var t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.initData();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=m.a.Header,a=m.a.Footer,n=this.props,i=(n.dataList,n.totalList),r=(n.codeList,n.dayList),o=(n.mv20CodeList,n.mv20DataList),c=n.isLoading,l=n.lastBreadth,d="Last Breadth Value : "+n.lastTime;return Object(s.jsxs)(m.a,{children:[Object(s.jsx)(e,{className:"header",children:Object(s.jsx)(L.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],children:Object(s.jsx)(L.a.Item,{children:"Market Breadth"},"1")})}),Object(s.jsxs)(f.a,{justify:"center",style:{padding:"12px 0"},children:[Object(s.jsx)(b.a,{xs:{span:7,offset:1},sm:{span:8,offset:5},md:{span:10,offset:3},lg:{span:6,offset:5},xl:{span:6,offset:5},children:c?Object(s.jsx)("div",{children:w}):Object(s.jsx)(v.a,{title:d,value:l})}),Object(s.jsx)(b.a,{xs:{span:5,offset:0},sm:{span:5,offset:0},md:{span:10,offset:0},lg:{span:6,offset:0},xl:{span:6,offset:0},children:Object(s.jsxs)(g.b,{size:10,direction:"vertical",children:[Object(s.jsx)(O.a,{title:"\u4ea4\u6613\u65f6\u95f4\u5ef6\u8fdf1-2\u5c0f\u65f6.",color:"blue",children:Object(s.jsx)(x.a,{type:"primary",onClick:function(){t.props.initData()},children:"\u5237\u65b0"})},"blue-text"),Object(s.jsx)(O.a,{title:"O(\u2229_\u2229)O~",color:"red",children:Object(s.jsx)(x.a,{danger:!0,onClick:function(){window.open("https://www.paypal.me/kenteb")},children:"\u652f\u6301\u4e00\u4e0b"})},"red-text")]})})]}),Object(s.jsxs)(f.a,{justify:"center",align:"top",children:[Object(s.jsx)(b.a,{xs:{span:20},sm:{span:19},md:{span:18},lg:{span:14},xl:{span:14},align:"top",children:c?Object(s.jsx)("div",{children:w}):Object(s.jsx)(S,{data:o,days:r})}),Object(s.jsx)(b.a,{xs:{span:3},sm:{span:3},md:{span:2},lg:{span:2},xl:{span:2},offset:1,align:"top",children:c?Object(s.jsx)("div",{children:w}):Object(s.jsx)(A,{data:i,days:r})})]}),Object(s.jsx)(a,{style:{textAlign:"center"},children:"Market Breadth \xa92020 Created by breadth.app"})]})}},{key:"componentDidMount",value:function(){var t=this;this.refreshData=setInterval((function(){t.props.initData()}),6e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshData)}}]),a}(n.Component)),R=Object(o.b)((function(t){return{dataList:t.getIn(["sp500","dataList"]),totalList:t.getIn(["sp500","totalList"]),codeList:t.getIn(["sp500","codeList"]),dayList:t.getIn(["sp500","dayList"]),mv20CodeList:t.getIn(["sp500","mv20CodeList"]),mv20DataList:t.getIn(["sp500","mv20DataList"]),isLoading:t.getIn(["sp500","isLoading"]),lastBreadth:t.getIn(["sp500","lastBreadth"]),lastTime:t.getIn(["sp500","lastTime"])}}),(function(t){return{initData:function(){t(F())}}}))(M),P=a(44),U=a(119),X=a(120),W=a(57),H=Object(W.fromJS)({dataList:[],totalLList:[],dayList:[],codeList:[],mv20CodeList:I,mv20DataList:[],chartList:[],breadthDays:100,isLoading:!0,lastBreadth:0,lastTime:w}),J=function(t,e){var a={currentCity:e.currentCity,currentZoom:e.currentZoom};return t.merge(a)},V=function(t,e){return t.merge({dataList:e.dataList,totalList:e.totalList,dayList:e.dayList,codeList:e.codeList,mv20CodeList:e.mv20CodeList,mv20DataList:e.mv20DataList,isLoading:e.isLoading,lastBreadth:e.lastBreadth,lastTime:e.lastTime})},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case k:return V(t,e);case E:return J(t,e);default:return t}},z=Object(X.combineReducers)({sp500:Y}),Z=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):P.c)(Object(P.a)(U.a)),G=Object(P.d)(z,Z),K=Object(s.jsx)(o.a,{store:G,children:Object(s.jsx)(R,{})});r.a.render(K,document.getElementById("breadth"))}},[[204,1,2]]]);
//# sourceMappingURL=main.50373fd5.chunk.js.map