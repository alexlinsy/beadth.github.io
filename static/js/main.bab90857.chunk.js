(this["webpackJsonpmt-site"]=this["webpackJsonpmt-site"]||[]).push([[0],{176:function(t,e,a){"use strict";a.r(e);var n=a(4),s=a(0),i=a(9),r=a.n(i),o=a(65),c=(a(127),a(70)),l=a.n(c),d=a(96),p=a(44),u=a(45),h=a(49),j=a(48),f=a(180),O=a(181),b=a(177),L=a(178),v=a(179),m=a(97),y=a.n(m),g=a(98),x=a.n(g),C="sp500/INIT_DATA_LIST",D="vipmap/CHANGE_CURRENT_CITY",T=["SPX","COM","CND","CNS","ENE","FIN","HLT","IND","MAT","REI","TEC","UTL"],k=function(){return function(t){var e=window.location.href;y.a.get(e+"us/sp500_100.json").then((function(e){var a=x.a.decode(e.data.data);t(function(t){for(var e=[],a=[],n=[],s=[],i=[],r=0;r<t.length;r++){for(var o in t[r].data)t[r][o]=t[r].data[o].close;e.push(t[r].time)}for(var c in t[0])"data"!==c&&a.push(c);for(var l in t[0].data)s.push(l);for(var d=0;d<T.length;d++)for(var p=0;p<t.length;p++)i.push([d,p,t[p][T[d]]]);for(var u=0;u<["TOTAL"].length;u++)for(var h=0;h<t.length;h++)n.push([u,h,t[h].TOTAL]);console.log(n);var j=i.map((function(t){return{name:t[0],day:t[1],sales:t[2]}})),f=n.map((function(t){return{name:t[0],day:t[1],sales:t[2]}}));return{type:C,dataList:t,totalList:f,dayList:e,codeList:a,mv20DataList:j,isLoading:!1}}(JSON.parse(a)))})).catch((function(){console.log("error")}))}},E=a(111),I=a(35),w=a(17),F=function(t){Object(h.a)(a,t);var e=Object(j.a)(a);function a(t){var n;return Object(p.a)(this,a),(n=e.call(this,t)).props=t,n}return Object(u.a)(a,[{key:"render",value:function(){var t={name:{type:"cat",values:["SPX","COM","CND","CNS","ENE","FIN","HLT","IND","MAT","REI","TEC","UTL"]},day:{type:"cat",values:this.props.days||[]},sales:{nice:!0}};return Object(n.jsx)("div",{children:Object(n.jsxs)(w.Chart,{scale:t,height:3e3,data:this.props.data,autoFit:!0,forceFit:!0,children:[Object(n.jsx)(w.Axis,{name:"name",position:"top",tickLine:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}),Object(n.jsx)(w.Axis,{name:"day",title:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}),Object(n.jsx)(w.Legend,{position:"left"}),Object(n.jsx)(w.Tooltip,{shared:!0,showMarkers:!1}),Object(n.jsx)(w.Polygon,{position:"name*day",color:["sales","#FB5050-#FFFFFF-#009966"],label:["sales",{offset:-2,style:{fill:"#2E2E2E",shadowBlur:50,shadowColor:"rgba(0, 0, 0, .45)"}}]}),Object(n.jsx)(w.Interaction,{type:"element-active"})]})})}}]),a}(s.Component),N=function(t){Object(h.a)(a,t);var e=Object(j.a)(a);function a(t){var n;return Object(p.a)(this,a),(n=e.call(this,t)).props=t,n}return Object(u.a)(a,[{key:"render",value:function(){var t={name:{type:"cat",values:["TOTAL"]},day:{type:"cat",values:this.props.days||[]},sales:{nice:!0}};return Object(n.jsx)("div",{children:Object(n.jsxs)(w.Chart,{scale:t,height:3e3,data:this.props.data,autoFit:!0,forceFit:!0,children:[Object(n.jsx)(w.Axis,{name:"name",position:"top",tickLine:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}),Object(n.jsx)(w.Axis,{name:"day",title:null,visible:!1,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}),Object(n.jsx)(w.Tooltip,{shared:!0,showMarkers:!1}),Object(n.jsx)(w.Legend,{position:"right"}),Object(n.jsx)(w.Polygon,{position:"name*day",color:["sales","#FB5050-#FFFFFF-#009966"],label:["sales",{offset:-2,style:{fill:"#2E2E2E",shadowBlur:50,shadowColor:"rgba(0, 0, 0, .45)"}}]}),Object(n.jsx)(w.Interaction,{type:"element-active"})]})})}}]),a}(s.Component),_=(s.Component,function(t){Object(h.a)(a,t);var e=Object(j.a)(a);function a(t){var n;return Object(p.a)(this,a),n=e.call(this,t),"object"===typeof window&&n.fetchData(),n}return Object(u.a)(a,[{key:"fetchData",value:function(){var t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.props.initData();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=b.a.Header,a=b.a.Footer,s=this.props,i=(s.dataList,s.totalList),r=(s.codeList,s.dayList),o=(s.mv20CodeList,s.mv20DataList),c=s.isLoading;return Object(n.jsxs)(b.a,{children:[Object(n.jsx)(e,{className:"header",children:Object(n.jsx)(L.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],children:Object(n.jsx)(L.a.Item,{children:"Market Breadth"},"1")})}),Object(n.jsxs)(f.a,{justify:"center",style:{padding:"12px 0"},children:[Object(n.jsx)(O.a,{xs:{span:5,offset:0},lg:{span:5,offset:1},children:Object(n.jsx)(v.a,{type:"primary",onClick:function(){t.props.initData()},children:"\u5237\u65b0"})}),Object(n.jsx)(O.a,{xs:{span:5,offset:0},lg:{span:5,offset:1},children:Object(n.jsx)(v.a,{danger:!0,onClick:function(){window.open("https://www.paypal.me/kenteb")},children:"\u8d5e\u52a9"})})]}),Object(n.jsxs)(f.a,{justify:"center",children:[Object(n.jsx)(O.a,{xs:{span:21},sm:{span:21},md:{span:18},lg:{span:14},xl:{span:14},children:c?Object(n.jsx)("div",{children:"Loading"}):Object(n.jsx)(F,{data:o,days:r})}),Object(n.jsx)(O.a,{xs:{span:3},sm:{span:3},md:{span:2},lg:{span:2},xl:{span:2},offset:1,children:c?Object(n.jsx)("div",{children:"Loading"}):Object(n.jsx)(N,{data:i,days:r})})]}),Object(n.jsx)(a,{style:{textAlign:"center"},children:"Market Breadth \xa92020 Created by breadth.app"})]})}},{key:"componentDidMount",value:function(){var t=this;this.props.initData(),this.refreshData=setInterval((function(){t.props.initData()}),6e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.refreshData)}}]),a}(s.Component)),S=Object(o.b)((function(t){return{dataList:t.getIn(["sp500","dataList"]),totalList:t.getIn(["sp500","totalList"]),codeList:t.getIn(["sp500","codeList"]),dayList:t.getIn(["sp500","dayList"]),mv20CodeList:t.getIn(["sp500","mv20CodeList"]),mv20DataList:t.getIn(["sp500","mv20DataList"]),isLoading:t.getIn(["sp500","isLoading"])}}),(function(t){return{initData:function(){t(k())}}}))(_),A=a(43),M=a(108),B=a(109),R=a(56),P=Object(R.fromJS)({dataList:[],totalLList:[],dayList:[],codeList:[],mv20CodeList:T,mv20DataList:[],chartList:[],breadthDays:100,isLoading:!0}),U=function(t,e){var a={currentCity:e.currentCity,currentZoom:e.currentZoom};return t.merge(a)},X=function(t,e){return t.merge({dataList:e.dataList,totalList:e.totalList,dayList:e.dayList,codeList:e.codeList,mv20CodeList:e.mv20CodeList,mv20DataList:e.mv20DataList,isLoading:e.isLoading})},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case C:return X(t,e);case D:return U(t,e);default:return t}},H=Object(B.combineReducers)({sp500:W}),J=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):A.c)(Object(A.a)(M.a)),V=Object(A.d)(H,J),Z=Object(n.jsx)(o.a,{store:V,children:Object(n.jsx)(S,{})});r.a.render(Z,document.getElementById("breadth"))}},[[176,1,2]]]);
//# sourceMappingURL=main.bab90857.chunk.js.map