{"version":3,"sources":["sp500/store/constants.js","constants.js","sp500/store/actionCreators.js","sp500/chart.js","sp500/index.js","sp500/store/reducer.js","store/reducer.js","store/index.js","index.js"],"names":["INIT_DATA_LIST","CHANGE_CURRENT_CITY","CHART_CODE_LIST","IS_LOADING_STRING","SHOW_SPACE","replace","SP500_SUB_CODE_CN","code","en","desc","getMtData","dispatch","t","Date","parse","url","window","location","href","axios","get","then","res","srcData","openBreadth","highBreadth","lowBreadth","lastBreadth","dayList","codeList","totalList","mv20CodeList","mv20DataList","lineDataList","data","JSON","Base64","decode","breadthDateRange","length","join","i","key","Math","ceil","push","day","breadth","tk","ck","j","n","tn","mv20source","map","arr","name","sales","mv20TotalSource","type","constants","dataList","isLoading","lastTime","last_time","InitDataList","catch","console","log","LeftChart","props","scale","values","days","nice","height","autoFit","forceFit","position","tickLine","grid","alignTick","line","style","lineWidth","lineDash","stroke","title","offsetY","visible","shared","showMarkers","color","label","offset","fill","shadowBlur","shadowColor","RightChart","LineChart","styles","mainTitle","fontSize","textAlign","subTitle","copyright","top","content","offsetX","className","date","min","max","padding","Text","align","shape","start","end","trendCfg","smooth","Line","text","Panel","Collapse","Top","Header","Layout","theme","mode","defaultSelectedKeys","Item","Bottom","Footer","Fragment","xs","span","sm","md","lg","xl","width","message","lineHeight","borderRadius","backgroundColor","GAlertMessage","lastTimeText","justify","banner","SP500","fetchData","this","initData","gutter","value","InfoCircleOutlined","size","direction","onClick","success","danger","open","HeartTwoTone","twoToneColor","bordered","header","xxl","dataSource","renderItem","item","refreshData","setInterval","clearInterval","Component","connect","state","getIn","breadthChartHigh","defaultState","fromJS","totalLList","chartList","breadthDays","BREADTH_DATE_RANGE","changeCurrentCity","action","result","currentCity","currentZoom","merge","initDataList","reducer","combineReducers","sp500","sp500Reducer","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b97e53b6.chunk.js","sourcesContent":["\nexport const INIT_DATA_LIST = 'sp500/INIT_DATA_LIST';\nexport const CHANGE_CURRENT_CITY = 'vipmap/CHANGE_CURRENT_CITY';\nexport const CHANGE_CURRENT_ZOOM = 'vipmap/CHANGE_CURRENT_ZOOM';","export const CHART_CODE_LIST = ['SPX','COM','CND','CNS','ENE','FIN','HLT','IND','MAT','REI','TEC','UTL']\nexport const ALL_CHART_SP500_LIST =  ['SPX','COM','CND','CNS','ENE','FIN','HLT','IND','MAT','REI','TEC','UTL','TOTAL']\nexport const PAYPAL_URL = 'https://www.paypal.me/kenteb';\nexport const IS_LOADING_STRING = \"Loading..\"\nexport const BREADTH_CHART_HIGH = 1000\nexport const SHOW_SPACE = \" \".replace(/ /g, \"\\u00a0\")\nexport const DOMAIN_NAME = \"breadth.app\"\nexport const DOMAIN_NAME_URL = \"https://breadth.app\"\nexport const SP500_SUB_CODE_CN = [\n  {code: \"COM 电信服务\", en: \"Telecom\", desc: \"电信服务和无线通讯\"},\n  {code: \"CND 可选消费\", en: \"Consumer Discretionary\", desc: \"汽车、服装、休闲和媒体(可选消费)\"},\n  {code: \"CNS 消费必需品\", en: \"Consumer Staples\", desc: \"日用产品、食品和药品零售(消费必需品)\"},\n  {code: \"ENE 能源\", en: \"Energy\", desc: \"能源设施、冶炼、石油和天然气的开采\"},\n  {code: \"FIN 金融\", en: \"Finance\", desc: \"银行、金融服务和所有保险\"},\n  {code: \"HLT 医疗保健\", en: \"Medical & Health\", desc: \"经营型医疗保健服务、医疗产品、药品和生物技术\"},\n  {code: \"IND 工业\", en: \"Industry\", desc: \"资本货物、交通、建筑、航空和国防\"},\n  {code: \"MAT 基础材料\", en: \"Materials\", desc: \"化学品、金属采矿、纸产品和林产品\"},\n  {code: \"REI 地产业\", en: \"Real Estate\", desc: \"房地产开发、管理及相关信托\"},\n  {code: \"TEC 信息技术\", en: \"Information technology\", desc: \"硬件、软件和通讯设备\"},\n  {code: \"UTL 公用事业\", en: \"Utilities\", desc: \"电力设备和天然气设备\"},\n  {code: \"SPX 标普500\", en: \"S&P 500\", desc: \"标普500\"},\n]","import axios from \"axios\"\nimport Base64 from 'base-64';\nimport * as constants from './constants';\nimport {CHART_CODE_LIST} from \"../../constants\";\n\nexport const changeCurrentCity = (city, zoom) => ({\n  type: constants.CHANGE_CURRENT_CITY,\n  currentCity: city,\n  currentZoom: zoom,\n})\n\nexport const InitDataList = (srcData) => {\n  // 数据处理\n  var dayList = [];\n  var codeList = [];\n  var totalList = [];\n  var mv20CodeList = [];\n  var mv20DataList = [];\n  var lineDataList = [];\n  var openBreadth, highBreadth, lowBreadth, lastBreadth = 0\n  var data = JSON.parse(Base64.decode(srcData.data))\n  var breadthDateRange = [\n    data[0]['time'].replace(/-/g,\"/\"),\n    ' - ', data[data.length - 1]['time'].replace(/-/g,\"/\"),\n  ].join('');\n\n  for (var i = 0; i < data.length; i++) {\n    for (var key in data[i].data) {\n      if (data[i].data[key]['close'] === 0.01) {\n        data[i].data[key]['close'] = 0\n      }\n      data[i].data[key]['close'] = Math.ceil(data[i].data[key]['close'])\n      data[i][key] = data[i].data[key]['close'];\n\n      // line Data List\n      // lineDataList.push({day:data[i]['time'], code: key, breadth:data[i].data[key]['close']})\n    }\n    lineDataList.push({day: data[i]['time'], code: \"TOTAL\", breadth: Math.ceil(data[i]['TOTAL'])})\n    dayList.push(data[i]['time'])\n    // totalList.push(data[i]['TOTAL'])\n  }\n\n  // table code list\n  for (var tk in data[0]) {\n    if (tk !== \"data\") {\n      codeList.push(tk)\n    }\n  }\n\n  // chart code list\n  for (var ck in data[0].data) {\n    mv20CodeList.push(ck)\n  }\n  // mv20CodeList.push(\"TOTAL\")\n\n  // mv20 chart data list\n  for (var j = 0; j < CHART_CODE_LIST.length; j++) {\n    for (var n = 0; n < data.length; n++) {\n      mv20DataList.push([j, n, data[n][CHART_CODE_LIST[j]]],)\n    }\n  }\n\n  // total List\n  for (var t = 0; t < ['TOTAL'].length; t++) {\n    for (var tn = 0; tn < data.length; tn++) {\n      totalList.push([t, tn, Math.ceil(data[tn]['TOTAL'])],)\n\n    }\n  }\n  lastBreadth = totalList[totalList.length - 1][2]\n  highBreadth = Math.ceil(data[dayList.length - 1]['HIGH_TOTAL'])\n  lowBreadth = Math.ceil(data[dayList.length - 1]['LOW_TOTAL'])\n  openBreadth = Math.ceil(data[dayList.length - 1]['OPEN_TOTAL'])\n\n  const mv20source = mv20DataList.map((arr) => {\n    return {\n      name: arr[0],\n      day: arr[1],\n      sales: arr[2],\n    };\n  });\n  const mv20TotalSource = totalList.map((arr) => {\n    return {\n      name: arr[0],\n      day: arr[1],\n      sales: arr[2],\n    };\n  });\n\n  return {\n    type: constants.INIT_DATA_LIST,\n    dataList: data,\n    totalList: mv20TotalSource,\n    dayList: dayList,\n    codeList: codeList,\n    mv20DataList: mv20source,\n    isLoading: false,\n    lastBreadth: lastBreadth,\n    lastTime: srcData.last_time,\n    lineDataList: lineDataList,\n    highBreadth: highBreadth,\n    lowBreadth: lowBreadth,\n    openBreadth: openBreadth,\n    breadthDateRange: breadthDateRange,\n  }\n};\n\n\nexport const changeCurrentZoom = (value) => ({\n  type: constants.CHANGE_CURRENT_ZOOM,\n  value,\n})\n\n// 使用了 redux-thunk 之后 返回可以是一个函数\nexport const getMtData = () => {\n  return (dispatch) => { // dispatch: 如果action是函数的话会自动接收到dispatch方法\n    // ajax request\n    var t = \"?t=\" + Date.parse(new Date()) / 1000\n    var url = window.location.href\n    var header = {'Cache-Control': 'no-cache'}\n    axios.get(url + \"us/sp500_100.json\" + t, header).then((res) => {\n      dispatch(InitDataList(res.data)) // action change store\n    }).catch(() => { // ajax request error\n      console.log(\"error\")\n    })\n  }\n}","import React from \"react\";\nimport {\n  Chart,\n  Tooltip,\n  Legend,\n  Axis,\n  Interaction,\n  Polygon,\n  Line,\n  Point,\n  Annotation,\n  Slider,\n} from 'bizcharts';\nimport {DOMAIN_NAME} from \"../constants\";\n\n\nconst LeftChart = (props) => {\n  const scale = {\n    name: {\n      type: 'cat',\n      // values: ['SPX','COM','CND','CNS','ENE','FIN','HLT','IND','MAT','REI','TEC','UTL','TOTAL'],\n      values: ['SPX', 'COM', 'CND', 'CNS', 'ENE', 'FIN', 'HLT', 'IND', 'MAT', 'REI', 'TEC', 'UTL'],\n    },\n    day: {\n      type: 'cat',\n      values: props.days || [],\n    },\n    sales: {\n      nice: true,\n    }\n  };\n\n  return <Chart\n    scale={scale}\n    height={3000}\n    data={props.data}\n    autoFit\n    forceFit={true}\n  >\n\n    <Axis\n      name={'name'}\n      position='top'\n\n      tickLine={null}\n      grid={{\n        alignTick: false,\n        line: {\n          style: {\n            lineWidth: 1,\n            lineDash: null,\n            stroke: '#f0f0f0',\n          },\n        },\n      }}\n    />\n    <Axis\n      name={'day'}\n      title={null}\n      grid={{\n        alignTick: false,\n        line: {\n          style: {\n            lineWidth: 1,\n            lineDash: null,\n            stroke: '#f0f0f0',\n          },\n        },\n      }}\n    />\n    <Legend position='left-top' offsetY={100} visible={false}/>\n\n    <Tooltip shared showMarkers={false}/>\n    <Polygon\n      position={'name*day'}\n      // color={['sales', '#BAE7FF-#1890FF-#0050B3']}\n      color={['sales', '#FB5050-#FFFFFF-#009966']}\n      label={['sales', {\n        offset: -2,\n        style: {\n          fill: '#2E2E2E',\n          shadowBlur: 50,\n          shadowColor: 'rgba(0, 0, 0, .45)',\n        },\n      }]}\n      // style={{\n      //   lineWidth: 0,\n      //   stroke: '#fff',\n      // }}\n    >\n\n    </Polygon>\n    <Interaction type={'element-active'}/>\n  </Chart>\n}\n\nconst RightChart = (props) => {\n  const scale = {\n    name: {\n      type: 'cat',\n      values: ['TOTAL'],\n    },\n    day: {\n      type: 'cat',\n      values: props.days || [],\n    },\n    sales: {\n      nice: true,\n    }\n  };\n\n  return <Chart\n    scale={scale}\n    height={3000}\n    data={props.data}\n    autoFit\n    forceFit={true}\n  >\n\n    <Axis\n      name={'name'}\n      position='top'\n\n      tickLine={null}\n      grid={{\n        alignTick: false,\n        line: {\n          style: {\n            lineWidth: 1,\n            lineDash: null,\n            stroke: '#f0f0f0',\n          },\n        },\n      }}\n    />\n    <Axis\n      name={'day'}\n      title={null}\n      visible={false}\n      grid={{\n        alignTick: false,\n        line: {\n          style: {\n            lineWidth: 1,\n            lineDash: null,\n            stroke: '#f0f0f0',\n          },\n        },\n      }}\n    />\n    <Tooltip shared showMarkers={false}/>\n    <Legend position='right-top' offsetY={100} visible={false}/>\n    <Polygon\n      position={'name*day'}\n      color={['sales', '#FB5050-#FFFFFF-#009966']}\n      label={['sales', {\n        offset: -2,\n        style: {\n          fill: '#2E2E2E',\n          shadowBlur: 50,\n          shadowColor: 'rgba(0, 0, 0, .45)',\n        },\n      }]}\n      // style={{\n      //   lineWidth: 0,\n      //   stroke: '#fff',\n      // }}\n    >\n\n    </Polygon>\n    <Interaction type={'element-active'}/>\n  </Chart>\n}\n\nconst LineChart = (props) => {\n  const styles = {\n    mainTitle: {\n      fontSize: 16,\n      color: \"black\",\n      textAlign: \"center\"\n    },\n    subTitle: {\n      fontSize: 14,\n      color: \"gray\",\n      textAlign: \"center\"\n    }\n  }\n\n  //可配置样式\n  const grid = {\n    align: 'center', // 网格顶点从两个刻度中间开始\n    line: null,\n  }\n\n  const sliCfg = {\n    smooth: false\n  }\n\n  const copyright = {\n    position: ['median', 'max'],\n    top: false,\n    content: DOMAIN_NAME,\n    offsetX: -50,\n    style: {\n      fill: \"#C0C0C0\",\n      fontSize: 16,\n    },\n  }\n\n  return (\n    <div>\n      <h4 className='main-title' style={styles.mainTitle}>\n        S&P 500 宽度走势\n      </h4>\n      <h5 className='sub-title' style={styles.subTitle}>\n        {props.date}\n      </h5>\n      <Chart scale={{breadth: {min: 0, max: 1000}}} padding={[10, 20, 38, 40]} autoFit height={220} data={props.data}>\n        <Annotation.Text {...copyright}/>\n        <Axis name=\"breadth\" grid={grid}/>\n        <Axis name=\"day\" label={null}/>\n        <Line shape=\"line\" position=\"day*breadth\" color=\"\"/>\n        <Legend visible={false}/>\n        <Slider start={0.3} end={1} trendCfg={sliCfg}/>\n        <Annotation.Line\n          start={['min', '200']}\n          end={['max', '200']}\n          text={{\n            /** 文本位置，除了制定 'start', 'center' 和 'end' 外，还可以使用百分比进行定位， 比如 '30%' */\n            position: 'end',\n            /** 是否自动旋转 */\n            /** 显示的文本内容 */\n            content: '狩猎区',\n            style: {\n              fill: '#FF4D4F'\n            },\n            offsetX: -20,\n            offsetY: 20,\n          }}\n        />\n\n        <Annotation.Line\n          start={['min', '949']}\n          end={['max', '949']}\n          text={{\n            /** 文本位置，除了制定 'start', 'center' 和 'end' 外，还可以使用百分比进行定位， 比如 '30%' */\n            position: 'end',\n            /** 是否自动旋转 */\n            /** 显示的文本内容 */\n            content: '走货区',\n            style: {\n              fill: '#FF4D4F'\n            },\n            offsetX: -20,\n            offsetY: -5,\n          }}\n        />\n\n        <Point\n          position=\"day*breadth\"\n          shape={['breadth', (breadth) => {\n            if (breadth < 201) {\n              return 'triangle';\n            }\n            if (breadth > 949) {\n              return 'triangle-down';\n            }\n            return '0'\n          }]}\n          color={['breadth', (breadth) => {\n            if (breadth < 201 || breadth > 949) {\n              return '#FB5050';\n            }\n            return '';\n          }]}/>\n\n      </Chart>\n    </div>)\n}\n\n\nexport {LeftChart, RightChart, LineChart};\n","import React, {Component} from 'react';\nimport {Row, Col, Tooltip, BackTop} from 'antd';\nimport {HeartTwoTone, InfoCircleOutlined} from '@ant-design/icons';\nimport {connect} from \"react-redux\"\n\nimport {Layout, Statistic, Menu, Button, Space, Alert, Descriptions, message, List, Card} from 'antd';\nimport { Collapse } from 'antd';\n\nimport {getMtData,} from \"./store/actionCreators\";\nimport {LeftChart, RightChart, LineChart} from \"./chart\";\nimport {DOMAIN_NAME_URL, IS_LOADING_STRING, PAYPAL_URL, SHOW_SPACE, SP500_SUB_CODE_CN} from \"../constants\";\n\nconst { Panel } = Collapse;\n\nconst Top = (props) => {\n  const {Header} = Layout;\n\n  return (\n    <Header className=\"header\">\n      <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']}>\n        <Menu.Item key=\"1\">Market Breadth</Menu.Item>\n        {/*<Menu.Item key=\"2\">功能开发中..</Menu.Item>*/}\n      </Menu>\n    </Header>\n  )\n}\n\nconst Bottom = (props) => {\n  const {Footer} = Layout;\n  const backTop = {\n    height: 40,\n    width: 30,\n    lineHeight: '40px',\n    borderRadius: 6,\n    backgroundColor: '#1088e9',\n    color: '#fff',\n    textAlign: 'center',\n    fontSize: 15,\n  };\n\n  return (\n    <React.Fragment>\n      <Footer style={{textAlign: 'center'}}>\n        <Col xs={{span: 24}} sm={{span: 0}} md={{span: 0}} lg={{span: 0}} xl={{span: 0}} align=\"center\">\n          <Alert padding={[0, 0, 0, 0]} width=\"100%\" message=\"横屏查看Market Breadth色块变化图。\" type=\"info\"/>\n        </Col>\n        Market Breadth ©2020 Created by <a href={DOMAIN_NAME_URL}>breadth.app</a>\n      </Footer>\n      <BackTop>\n        <div style={backTop}>↑</div>\n      </BackTop>\n    </React.Fragment>)\n}\n\nconst GAlertMessage = (props) => {\n  const lastTimeText = \"交易日市场数据每1-2小时更新一次 | 数据更新最后更新时间(美东): \" + props.lastTime\n\n  return (\n    <Row justify=\"center\" align=\"top\">\n      <Col xs={{span: 24}} sm={{span: 19}} md={{span: 20}} lg={{span: 16}} xl={{span: 16}} align=\"top\">\n        <Alert message={lastTimeText} type=\"info\" banner/>\n      </Col>\n    </Row>)\n}\n\n\nclass SP500 extends Component {\n  constructor(props) {\n    super(props);\n    if (typeof window === 'object') this.fetchData();\n  }\n\n  async fetchData() {\n    await this.props.initData();\n  }\n\n  render() {\n\n\n    const {\n      dataList, totalList, codeList, dayList, // eslint-disable-line no-unused-vars\n      mv20CodeList, mv20DataList, lineDataList, // eslint-disable-line no-unused-vars\n      isLoading, lastBreadth, lastTime, // eslint-disable-line no-unused-vars\n      highBreadth, lowBreadth, openBreadth, breadthDateRange, // eslint-disable-line no-unused-vars\n    } = this.props // eslint-disable-line no-unused-vars\n\n\n    return (\n      <Layout>\n        <Top/>\n        <GAlertMessage lastTime={lastTime}/>\n\n        <Row gutter={[8, 8]} justify=\"center\" style={{padding: '12px 0'}}>\n          <Col xs={{span: 11, offset: 1}} sm={{span: 7, offset: 2}} md={{span: 10, offset: 2}} lg={{span: 7, offset: 1}}\n               xl={{span: 7, offset: 1}}>\n\n            {\n              isLoading\n                ? <div>{IS_LOADING_STRING}</div>\n                : <Statistic title=\"Market Breadth\" value={lastBreadth}/>\n            }\n\n            <Descriptions title=\" \">\n              {/*<Descriptions.Item label=\"最高\">*/}\n              {/*  <Tooltip title='当日所有子行业\"最高\"宽度之和，数据很敏感，仅供参考' color='blue' key='blue-text'>*/}\n              {/*    {highBreadth}  {SHOW_SPACE}*/}\n              {/*    <InfoCircleOutlined />*/}\n              {/*  </Tooltip>*/}\n              {/*</Descriptions.Item>*/}\n              {/*<Descriptions.Item label=\"最低\">*/}\n              {/*  <Tooltip title=\"当日所有子行业最低宽度之和\" color='blue' key='blue-text'>*/}\n              {/*    {lowBreadth} {SHOW_SPACE}*/}\n              {/*    <InfoCircleOutlined />*/}\n              {/*  </Tooltip>*/}\n              {/*</Descriptions.Item>*/}\n              <Descriptions.Item label=\"开盘\">\n                <Tooltip title=\"当日所有子行业开盘宽度之和\" color='blue' key='blue-text'>\n                  {openBreadth} {SHOW_SPACE}\n                  <InfoCircleOutlined/>\n                </Tooltip>\n              </Descriptions.Item>\n            </Descriptions>\n          </Col>\n          <Col xs={{span: 7, offset: 0}} sm={{span: 7, offset: 0}} md={{span: 10, offset: 1}} lg={{span: 7, offset: 0}}\n               xl={{span: 7, offset: 2}} align=\"middle\">\n\n            <Space size={25} direction=\"vertical\">\n              <Tooltip title=\"交易时间延迟1-2小时.\" color='blue' key='blue-text'>\n                <Button type=\"primary\" onClick={() => {\n                  this.props.initData();\n                  message.success('已更新');\n                }}>刷新</Button>\n              </Tooltip>\n\n              <Button danger onClick={() => {\n                window.open(PAYPAL_URL);\n              }}>\n                <HeartTwoTone twoToneColor=\"#eb2f96\"/>\n                支持一下\n              </Button>\n\n\n            </Space>\n          </Col>\n        </Row>\n\n        <Row justify=\"center\" align=\"top\">\n          <Col xs={{span: 20}} sm={{span: 19}} md={{span: 20}} lg={{span: 16}} xl={{span: 16}} align=\"top\">\n            {\n              isLoading\n                ? <div>{IS_LOADING_STRING}</div>\n                : <LineChart data={lineDataList} date={breadthDateRange}/>\n            }\n          </Col>\n        </Row>\n\n        <Row justify=\"center\" align=\"top\">\n\n          <Col xs={{span: 0}} sm={{span: 21}} md={{span: 20}} lg={{span: 17}} xl={{span: 17}} align=\"top\" style={{padding: '2px 0 10px'}}>\n            <Collapse  bordered={false}>\n              <Panel header=\"各代码中英文对照\" key=\"1\">\n                <List\n                  grid={{\n                    gutter: 16,\n                    xs: 1,\n                    sm: 2,\n                    md: 4,\n                    lg: 4,\n                    xl: 6,\n                    xxl: 6,\n                  }}\n                  dataSource={SP500_SUB_CODE_CN}\n                  renderItem={item => (\n                    <List.Item>\n                      <Card title={\"\"}>\n                        <Tooltip title={item.desc}>\n                          <span>{item.code}</span>\n                        </Tooltip>\n                      </Card>\n                    </List.Item>\n                  )}\n                />\n              </Panel>\n            </Collapse>\n          </Col>\n\n          <Col xs={{span: 0}} sm={{span: 19}} md={{span: 18}} lg={{span: 14}} xl={{span: 14}} >\n            {\n              isLoading\n                ? <div>{IS_LOADING_STRING}</div>\n                : <LeftChart data={mv20DataList} days={dayList}/>\n\n            }\n          </Col>\n\n          <Col xs={{span: 0}} sm={{span: 2}} md={{span: 2}} lg={{span: 2}} xl={{span: 2}} offset={1} align=\"top\">\n            {\n              isLoading\n                ? <div>{IS_LOADING_STRING}</div>\n                : <RightChart data={totalList} days={dayList}/>\n            }\n          </Col>\n        </Row>\n\n        <Bottom/>\n      </Layout>\n    )\n  }\n\n  componentDidMount() {\n    // this.props.initData();\n\n    this.refreshData = setInterval(() => {\n      this.props.initData();\n    }, 1000 * 60 * 10)\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.refreshData);\n  }\n\n}\n\n// link 规则（方式）映射关系\nconst mapState = (state) => {\n  return {\n    dataList: state.getIn(['sp500', 'dataList']),\n    totalList: state.getIn(['sp500', 'totalList']),\n    codeList: state.getIn(['sp500', 'codeList']),\n    dayList: state.getIn(['sp500', 'dayList']),\n    mv20CodeList: state.getIn(['sp500', 'mv20CodeList']),\n    mv20DataList: state.getIn(['sp500', 'mv20DataList']),\n    isLoading: state.getIn(['sp500', 'isLoading']),\n    lastBreadth: state.getIn(['sp500', 'lastBreadth']),\n    highBreadth: state.getIn(['sp500', 'highBreadth']),\n    lowBreadth: state.getIn(['sp500', 'lowBreadth']),\n    openBreadth: state.getIn(['sp500', 'openBreadth']),\n    lastTime: state.getIn(['sp500', 'lastTime']),\n    lineDataList: state.getIn(['sp500', 'lineDataList']),\n    breadthChartHigh: state.getIn(['sp500', 'breadthChartHigh']),\n    breadthDateRange: state.getIn(['sp500', 'breadthDateRange']),\n  }\n};\n\n// redux 数据修改逻辑映射 store.dispatch, props\nconst mapDispatch = (dispatch) => {\n  return {\n    // load list\n    initData() {\n      dispatch(getMtData())\n    },\n\n  }\n};\n\n// 组件是通过connect获取到state的数据\nexport default connect(mapState, mapDispatch)(SP500)\n","import * as constants from './constants';\nimport { fromJS} from 'immutable';\nimport {CHART_CODE_LIST, IS_LOADING_STRING} from \"../../constants\";\n\nconst defaultState = fromJS({\n  dataList: [],\n  totalLList: [],\n  dayList: [],\n  codeList: [],\n  mv20CodeList: CHART_CODE_LIST,\n  mv20DataList: [],\n  chartList:[],\n  breadthDays: 100,\n  isLoading: true,\n  lastBreadth: 0,\n  lastTime: IS_LOADING_STRING,\n  BREADTH_DATE_RANGE: [],\n});\n\n\nconst changeCurrentCity = (state, action) => {\n  var result = {\n    \"currentCity\": action.currentCity,\n    \"currentZoom\": action.currentZoom,\n  }\n  return state.merge(result)\n}\n\nconst initDataList = (state, action) => {\n  return state.merge({\n    dataList: action.dataList,\n    totalList: action.totalList,\n    dayList:action.dayList,\n    codeList:action.codeList,\n    mv20CodeList:action.mv20CodeList,\n    mv20DataList:action.mv20DataList,\n    isLoading:action.isLoading,\n    lastBreadth:action.lastBreadth,\n    highBreadth: action.highBreadth,\n    lowBreadth: action.lowBreadth,\n    openBreadth: action.openBreadth,\n    lastTime:action.lastTime,\n    lineDataList:action.lineDataList,\n    breadthChartHigh:action.breadthChartHigh,\n    breadthDateRange:action.breadthDateRange,\n  })\n}\n\n// state    整个DOM的数据库\n// action\n// reducer 可以接收state，但是不可以在修改stacurrentCityte\n\nconst reducer = (state = defaultState, action) => {\n  switch(action.type) {\n    case constants.INIT_DATA_LIST:\n      return initDataList(state, action)\n    case constants.CHANGE_CURRENT_CITY:\n      return changeCurrentCity(state, action)\n    default:\n      return state;\n  }\n}\n\n\n\nexport default reducer;","import { combineReducers } from 'redux-immutable';\nimport { reducer as sp500Reducer } from '../sp500/store';\n\nconst reducer = combineReducers({\n\t// vipmap: vipmapReducer,\n\tsp500: sp500Reducer,\n});\n\nexport default reducer;\n","import {createStore, applyMiddleware, compose} from 'redux';\nimport thunk from 'redux-thunk';\nimport reducer from \"./reducer\";\n\n/*\n  redux-sagas 中间件把异步放到单独的文件进行管理\n  redux-thunk 中间件把异步放到action中\n */\n\n// https://github.com/zalmoxisus/redux-devtools-extension/#12-advanced-store-setup\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose;\nconst enhancer = composeEnhancers(\n\tapplyMiddleware(thunk),\n\t// other store enhancers if any\n);\n\nconst store = createStore(\n\treducer,\n\tenhancer // redux 中间件\n);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from \"react-redux\"\n\nimport 'antd/dist/antd.css';\n\nimport SP500 from './sp500';\nimport store from \"./store\";\n\nconst App = (\n    <Provider store={store}>\n        <SP500/>\n    </Provider>\n)\n\nReactDOM.render(\n    App,\n    document.getElementById('breadth')\n);\n"],"sourceRoot":""}